var PushAd={push_ads:{},counter:{},timers:{},init:function(a){this.push_ads=a;this.firstRun()},firstRun:function(){$(".mc-push").each(function(b){var a=$(this);var c=a.attr("id").split("-");PushAd.counter[a.attr("id")]=c[1];PushAd.showAds(a.attr("id"))})},showAds:function(g){var a=$("#"+g);var e=false;if(a.attr("id")==g){var d=a.attr("data-type");if(typeof PushAd.push_ads[d]=="undefined"){return}if(!PushAd.counter[g]||parseInt(PushAd.counter[g])+1>PushAd.push_ads[d].length){PushAd.counter[g]=0}if(PushAd.push_ads[d][PushAd.counter[g]]){e=PushAd.push_ads[d][PushAd.counter[g]];if(e.token==d){var c="_self";var b=new RegExp(location.host+"|/games/");if(!b.test(e.url)){c="_blank"}var f=e.token+"/"+e.image_file;a.html('<a href="'+e.url+'" data-track="'+f+'" id="ad-'+e.push_ad_id+'" class="ad-image" target="'+c+'"><span class="icon-wrap"><img src="'+static_path+"content/push-ads/"+e.push_ad_type_id+"/"+e.image_file+'" alt="'+e.image_file+'" /></span></a>');if(e.is_tracked==1){statTracker("/push-adserver/view/"+f)}$(".ad-image").unbind("click").click(function(){statTracker("/push-adserver/click/"+$(this).attr("data-track"))});if(e.keep_visible==1){PushAd.push_ads[d].splice(PushAd.counter[g],1);clearTimeout(this.timers[g])}else{PushAd.counter[g]=parseInt(PushAd.counter[g])+1}}}}if(!e||(e&&e.keep_visible==0)){this.timers[g]=setTimeout(function(){PushAd.showAds(g)},a.attr("data-refresh"))}return false}};$(function(){$(".mc-push-ab").each(function(){var a=$(this).find("img");statTracker("/push-ad-ab-test/view/"+a.attr("src"));$(this).click(function(){statTracker("/push-ad-ab-test/click/"+a.attr("src"))})})});