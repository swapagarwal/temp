function addFavourite(a,b){var c="/games/ajax/favouriteadd/";var d={game_id:a,user_id:b};$.ajax({url:c,data:d,dataType:"json",type:"POST",success:function(e){if(e.success){updateButton();$("#fav-toggle").data("is-fav","yes");if(typeof RefreshToolbarByCTID=="function"){RefreshToolbarByCTID("CT3067892")}}else{}}})}function removeFavourite(a,b){var c="/games/ajax/favouriteremove/";var d={game_id:a,user_id:b};$.ajax({url:c,data:d,dataType:"json",type:"POST",success:function(e){if(e.success){updateButton();$("#fav-toggle").data("is-fav","no");if(typeof RefreshToolbarByCTID=="function"){RefreshToolbarByCTID("CT3067892")}}else{}}})}function updateButton(){$("#favourite-game").toggleClass("favourited")}$(document).ready(function(){$("#fav-toggle").click(function(){var a=$("#fav-toggle").data("game-id");var b=$("#fav-toggle").data("user-id");var c=$("#fav-toggle").data("is-fav");if(typeof b=="undefined"||b<1){return}if(c=="no"){addFavourite(a,b)}else{if(c=="yes"){removeFavourite(a,b)}else{return}}return false})});